<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Contract Renewal Dashboard</title>    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.1.3/js/bootstrap.bundle.min.js"></script>
    <script src="js/approval-integration.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.1.3/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <style>
        :root {
            --primary: #4361ee;
            --secondary: #3f37c9;
            --success: #4cc9f0;
            --info: #4895ef;
            --warning: #f72585;
            --danger: #e63946;
            --light: #f8f9fa;
            --dark: #212529;
        }
        
        body {
            background-color: #f5f7fb;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        .sidebar {
            background-color: #fff;
            min-height: 100vh;
            box-shadow: 0 0.125rem 0.25rem rgba(0, 0, 0, 0.075);
            position: fixed;
            width: 250px;
        }
        
        .sidebar .nav-link {
            color: #495057;
            padding: 0.8rem 1rem;
            border-radius: 0.25rem;
            margin: 0.2rem 0;
        }
        
        .sidebar .nav-link:hover {
            background-color: #f8f9fa;
        }
        
        .sidebar .nav-link.active {
            background-color: var(--primary);
            color: white;
        }
        
        .main-content {
            margin-left: 12px;
            margin-right: 25px;
            margin-top: 20px;
            padding: 1rem;
            padding: 2rem;
        }
        
        .card {
            border-radius: 0.5rem;
            box-shadow: 0 0.125rem 0.25rem rgba(0, 0, 0, 0.075);
            margin-bottom: 1.5rem;
            border: none;
        }
        
        .card-header {
            background-color: #fff;
            border-bottom: 1px solid rgba(0, 0, 0, 0.125);
            padding: 1rem;
        }
        
        .btn-primary {
            background-color: var(--primary);
            border-color: var(--primary);
        }
        
        .btn-primary:hover {
            background-color: var(--secondary);
            border-color: var(--secondary);
        }
        
        .btn-outline-primary {
            color: var(--primary);
            border-color: var(--primary);
        }
        
        .btn-outline-primary:hover {
            background-color: var(--primary);
            color: white;
        }
        
        .filter-btn {
            margin-right: 0.5rem;
            margin-bottom: 0.5rem;
        }
        
        .filter-btn.active {
            background-color: var(--primary);
            border-color: var(--primary);
            color: white;
        }
        
        .table thead th {
            background-color: #f8f9fa;
            color: #495057;
            font-weight: 600;
        }
        
        .status-badge {
            padding: 0.4rem 0.6rem;
            border-radius: 50rem;
            font-size: 0.75rem;
            font-weight: 600;
        }
        
        .status-pending {
            background-color: #ffd166;
            color: #664d00;
        }
        
        .status-approved {
            background-color: #06d6a0;
            color: #004d40;
        }
        
        .status-declined {
            background-color: #ef476f;
            color: white;
        }
        
        .status-retake {
            background-color: #118ab2;
            color: white;
        }
        
        .search-container {
            position: relative;
        }
        
        .search-container i {
            position: absolute;
            top: 12px;
            left: 12px;
            color: #6c757d;
        }
        
        .search-input {
            padding-left: 35px;
        }
        
        .note-textarea {
            resize: none;
            height: 120px;
        }
        
        .modal-footer {
            justify-content: space-between;
        }
        
        .modal-header, .modal-footer {
            background-color: #f8f9fa;
        }
        
        .action-icons i {
            margin-right: 0.5rem;
            cursor: pointer;
            color: #495057;
        }
        
        .action-icons i:hover {
            color: var(--primary);
        }
        
        .dashboard-stats {
            display: flex;
            gap: 1rem;
            margin-bottom: 2rem;
        }
        
        .stat-card {
            flex: 1;
            background-color: white;
            border-radius: 0.5rem;
            padding: 1.25rem;
            display: flex;
            align-items: center;
            box-shadow: 0 0.125rem 0.25rem rgba(0, 0, 0, 0.075);
        }
        
        .stat-icon {
            display: flex;
            align-items: center;
            justify-content: center;
            width: 48px;
            height: 48px;
            border-radius: 50%;
            margin-right: 1rem;
            background-color: rgba(67, 97, 238, 0.1);
        }
        
        .stat-icon i {
            font-size: 1.5rem;
            color: var(--primary);
        }
        
        .stat-info {
            flex: 1;
        }
        
        .stat-value {
            font-size: 1.75rem;
            font-weight: 600;
            color: #212529;
            margin-bottom: 0.25rem;
        }
        
        .stat-label {
            font-size: 0.875rem;
            color: #6c757d;
        }
        
        .pagination .page-item.active .page-link {
            background-color: var(--primary);
            border-color: var(--primary);
        }
        
        .pagination .page-link {
            color: var(--primary);
        }
        
        @media (max-width: 768px) {
            .sidebar {
                width: 100%;
                height: auto;
                position: relative;
            }
            .main-content {
                margin-left: 0;
            }
            .dashboard-stats {
                flex-direction: column;
            }
        }
    </style>
</head>
<body>
    <div class="container-fluid">
        <div class="row">
            <!-- Sidebar -->
            <div class="col-md-3 col-lg-2 p-0">
                <div class="sidebar">
                    <div class="p-3 text-center">
                        <h5 class="fw-bold">mehh</h5>
                        <p class="text-muted small mb-0">mesewer</p>
                    </div>
                    <hr class="my-2">
                    <div class="p-3">
                        <ul class="nav flex-column">
                            <li class="nav-item">
                                <a href="#" class="nav-link active">
                                    <i class="fas fa-home me-2"></i> Dashboard
                                </a>
                            </li>
                           
                            <li class="nav-item">
                                <a href="#" class="nav-link">
                                    <i class="fas fa-users me-2"></i> Students/Workers
                                </a>
                            </li>
                            <li class="nav-item">
                                <a href="#" class="nav-link">
                                    <i class="fas fa-file-contract me-2"></i> Contracts
                                </a>
                            </li>
                            <li class="nav-item">
                                <a href="#" class="nav-link">
                                    <i class="fas fa-chart-bar me-2"></i> Reports
                                </a>
                            </li>

                            <li class="nav-item">
                                <a href="#" class="nav-link">
                                    <i class="fas fa-cog me-2"></i> Settings
                                    <span class="badge bg-secondary float-end">New</span>
                                </a>
                            </li>
                        </ul>
                    </div>
                    <hr class="my-2">
                    <div class="p-3">
                        <div class="d-flex align-items-center">
                            <img src="/api/placeholder/40/40" class="rounded-circle me-2" alt="User">
                            <div>
                                <h6 class="mb-0">User</h6>
                                <small class="text-muted">Approver</small>
                            </div>
                        </div>
                        <div class="mt-3">
                            <a href="#" class="btn btn-outline-primary btn-sm w-100">
                                <i class="fas fa-sign-out-alt me-2"></i> Logout
                            </a>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Main Content -->
            <div class="col-md-9 col-lg-10 ms-auto">
                <div class="main-content">
                    <div class="d-flex justify-content-between align-items-center mb-4">
                        <h2 class="mb-0">Approval Dashboard</h2>
                        <div>
                            <button class="btn btn-primary">
                                <i class="fas fa-plus me-2"></i> New Request
                            </button>
                        </div>
                    </div>
                    
                    <!-- Stats Cards -->
                    <div class="dashboard-stats">
                        <div class="stat-card">
                            <div class="stat-icon">
                                <i class="fas fa-clock"></i>
                            </div>
                            <div class="stat-info">
                                <div class="stat-value">24</div>
                                <div class="stat-label">Pending Approvals</div>
                            </div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-icon">
                                <i class="fas fa-check"></i>
                            </div>
                            <div class="stat-info">
                                <div class="stat-value">156</div>
                                <div class="stat-label">Approved</div>
                            </div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-icon">
                                <i class="fas fa-times"></i>
                            </div>
                            <div class="stat-info">
                                <div class="stat-value">12</div>
                                <div class="stat-label">Declined</div>
                            </div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-icon">
                                <i class="fas fa-redo"></i>
                            </div>
                            <div class="stat-info">
                                <div class="stat-value">8</div>
                                <div class="stat-label">Retake</div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Filters and Search -->
                    <div class="card">
                        <div class="card-body">
                            <div class="row align-items-center">
                                <div class="col-md-6 mb-3 mb-md-0">
                                    <div class="d-flex flex-wrap">
                                        <button class="btn btn-outline-primary filter-btn active" data-filter="all">All</button>
                                        <button class="btn btn-outline-primary filter-btn" data-filter="pending">Pending</button>
                                        <button class="btn btn-outline-primary filter-btn" data-filter="approved">Approved</button>
                                        <button class="btn btn-outline-primary filter-btn" data-filter="declined">Declined</button>
                                        <button class="btn btn-outline-primary filter-btn" data-filter="retake">Retake</button>
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="search-container">
                                        <i class="fas fa-search"></i>
                                        <input type="text" class="form-control search-input" placeholder="Search by name, ID, or department...">
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Approvals Table -->
                    <div class="card">
                        <div class="card-header">
                            <h5 class="card-title mb-0">Contract Renewal Requests</h5>
                        </div>
                        <div class="card-body">
                            <div class="table-responsive">
                                <table class="table table-hover">
                                    <thead>
                                        <tr>
                                            <th>ID</th>
                                            <th>Name</th>
                                            <th>Department</th>
                                            <th>Position</th>
                                            <th>Submission Date</th>
                                            <th>Status</th>
                                            <th>Actions</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr class="approval-row" data-status="pending">
                                            <td>STU-0023</td>
                                            <td>John Smith</td>
                                            <td>Computer Science</td>
                                            <td>Teaching Assistant</td>
                                            <td>May 15, 2025</td>
                                            <td><span class="status-badge status-pending">Pending</span></td>
                                            <td class="action-icons">
                                                <i class="fas fa-eye" data-bs-toggle="modal" data-bs-target="#viewModal"></i>
                                                <i class="fas fa-check-circle text-success" data-bs-toggle="modal" data-bs-target="#approveModal"></i>
                                                <i class="fas fa-times-circle text-danger" data-bs-toggle="modal" data-bs-target="#declineModal"></i>
                                                <i class="fas fa-redo text-info" data-bs-toggle="modal" data-bs-target="#retakeModal"></i>
                                            </td>
                                        </tr>
                                        <tr class="approval-row" data-status="approved">
                                            <td>STU-0019</td>
                                            <td>Emma Johnson</td>
                                            <td>Biology</td>
                                            <td>Research Assistant</td>
                                            <td>May 12, 2025</td>
                                            <td><span class="status-badge status-approved">Approved</span></td>
                                            <td class="action-icons">
                                                <i class="fas fa-eye" data-bs-toggle="modal" data-bs-target="#viewModal"></i>
                                                <i class="fas fa-edit text-primary" data-bs-toggle="modal" data-bs-target="#editModal"></i>
                                            </td>
                                        </tr>
                                        <tr class="approval-row" data-status="declined">
                                            <td>STU-0021</td>
                                            <td>Michael Brown</td>
                                            <td>Physics</td>
                                            <td>Lab Assistant</td>
                                            <td>May 14, 2025</td>
                                            <td><span class="status-badge status-declined">Declined</span></td>
                                            <td class="action-icons">
                                                <i class="fas fa-eye" data-bs-toggle="modal" data-bs-target="#viewModal"></i>
                                                <i class="fas fa-edit text-primary" data-bs-toggle="modal" data-bs-target="#editModal"></i>
                                            </td>
                                        </tr>
                                        <tr class="approval-row" data-status="retake">
                                            <td>STU-0022</td>
                                            <td>Sarah Miller</td>
                                            <td>Chemistry</td>
                                            <td>Teaching Assistant</td>
                                            <td>May 14, 2025</td>
                                            <td><span class="status-badge status-retake">Retake</span></td>
                                            <td class="action-icons">
                                                <i class="fas fa-eye" data-bs-toggle="modal" data-bs-target="#viewModal"></i>
                                                <i class="fas fa-edit text-primary" data-bs-toggle="modal" data-bs-target="#editModal"></i>
                                            </td>
                                        </tr>
                                        <tr class="approval-row" data-status="pending">
                                            <td>STU-0024</td>
                                            <td>David Wilson</td>
                                            <td>Mathematics</td>
                                            <td>Teaching Assistant</td>
                                            <td>May 16, 2025</td>
                                            <td><span class="status-badge status-pending">Pending</span></td>
                                            <td class="action-icons">
                                                <i class="fas fa-eye" data-bs-toggle="modal" data-bs-target="#viewModal"></i>
                                                <i class="fas fa-check-circle text-success" data-bs-toggle="modal" data-bs-target="#approveModal"></i>
                                                <i class="fas fa-times-circle text-danger" data-bs-toggle="modal" data-bs-target="#declineModal"></i>
                                                <i class="fas fa-redo text-info" data-bs-toggle="modal" data-bs-target="#retakeModal"></i>
                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                            
                            <!-- Pagination -->
                            <nav aria-label="Page navigation" class="mt-4">
                                <ul class="pagination justify-content-center">
                                    <li class="page-item disabled">
                                        <a class="page-link" href="#" tabindex="-1" aria-disabled="true">Previous</a>
                                    </li>
                                    <li class="page-item active"><a class="page-link" href="#">1</a></li>
                                    <li class="page-item"><a class="page-link" href="#">2</a></li>
                                    <li class="page-item"><a class="page-link" href="#">3</a></li>
                                    <li class="page-item">
                                        <a class="page-link" href="#">Next</a>
                                    </li>
                                </ul>
                            </nav>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <!-- View Modal -->
    <div class="modal fade" id="viewModal" tabindex="-1" aria-labelledby="viewModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="viewModalLabel">Contract Details</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <div class="row mb-4">
                        <div class="col-md-6">
                            <h6 class="text-muted">Personal Details</h6>
                            <div class="d-flex mb-2">
                                <img src="/api/placeholder/100/100" class="rounded me-3" alt="Profile Picture">
                                <div>
                                    <h5 class="mb-1">John Smith</h5>
                                    <p class="mb-1"><i class="fas fa-id-card me-2"></i> STU-0023</p>
                                    <p class="mb-1"><i class="fas fa-envelope me-2"></i> john.smith@university.edu</p>
                                    <p class="mb-0"><i class="fas fa-phone me-2"></i> (555) 123-4567</p>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <h6 class="text-muted">Contract Details</h6>
                            <p class="mb-1"><strong>Department:</strong> Computer Science</p>
                            <p class="mb-1"><strong>Position:</strong> Teaching Assistant</p>
                            <p class="mb-1"><strong>Current Contract:</strong> Jan 15, 2025 - May 15, 2025</p>
                            <p class="mb-1"><strong>Renewal Period:</strong> May 16, 2025 - Sep 15, 2025</p>
                            <p class="mb-0"><strong>Supervisor:</strong> Dr. Robert Chen</p>
                        </div>
                    </div>
                    
                    <div class="row mb-4">
                        <div class="col-12">
                            <h6 class="text-muted">Contract History</h6>
                            <div class="table-responsive">
                                <table class="table table-sm">
                                    <thead>
                                        <tr>
                                            <th>Period</th>
                                            <th>Position</th>
                                            <th>Department</th>
                                            <th>Status</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                            <td>Jan 15, 2025 - May 15, 2025</td>
                                            <td>Teaching Assistant</td>
                                            <td>Computer Science</td>
                                            <td><span class="badge bg-success">Completed</span></td>
                                        </tr>
                                        <tr>
                                            <td>Sep 15, 2024 - Dec 15, 2024</td>
                                            <td>Teaching Assistant</td>
                                            <td>Computer Science</td>
                                            <td><span class="badge bg-success">Completed</span></td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                    
                    <div class="row">
                        <div class="col-12">
                            <h6 class="text-muted">Performance Metrics</h6>
                            <div class="row">
                                <div class="col-md-3 col-6 mb-3">
                                    <div class="card h-100">
                                        <div class="card-body text-center">
                                            <h3 class="mb-1">4.7</h3>
                                            <p class="small text-muted mb-0">Average Rating</p>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-3 col-6 mb-3">
                                    <div class="card h-100">
                                        <div class="card-body text-center">
                                            <h3 class="mb-1">98%</h3>
                                            <p class="small text-muted mb-0">Attendance</p>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-3 col-6 mb-3">
                                    <div class="card h-100">
                                        <div class="card-body text-center">
                                            <h3 class="mb-1">12</h3>
                                            <p class="small text-muted mb-0">Projects</p>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-3 col-6 mb-3">
                                    <div class="card h-100">
                                        <div class="card-body text-center">
                                            <h3 class="mb-1">2</h3>
                                            <p class="small text-muted mb-0">Publications</p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="row mt-3">
                        <div class="col-12">
                            <h6 class="text-muted">Notes</h6>
                            <div class="card bg-light">
                                <div class="card-body">
                                    <p class="mb-0">John has been an excellent teaching assistant for the past two semesters. He has received consistently high ratings from students and faculty. He has shown great initiative in developing new lab materials for the introductory programming course.</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                    <div>
                        <button type="button" class="btn btn-success me-2" data-bs-toggle="modal" data-bs-target="#approveModal" data-bs-dismiss="modal">Approve</button>
                        <button type="button" class="btn btn-danger me-2" data-bs-toggle="modal" data-bs-target="#declineModal" data-bs-dismiss="modal">Decline</button>
                        <button type="button" class="btn btn-info" data-bs-toggle="modal" data-bs-target="#retakeModal" data-bs-dismiss="modal">Retake</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Approve Modal -->
    <div class="modal fade" id="approveModal" tabindex="-1" aria-labelledby="approveModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="approveModalLabel">Approve Contract Renewal</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <p>You are about to approve the contract renewal for <strong>John Smith (STU-0023)</strong>.</p>
                    <div class="mb-3">
                        <label for="approveNotes" class="form-label">Add Notes (Optional)</label>
                        <textarea class="form-control note-textarea" id="approveNotes" placeholder="Add any notes or comments about this approval..."></textarea>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                    <button type="button" class="btn btn-success">Confirm Approval</button>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Decline Modal -->
    <div class="modal fade" id="declineModal" tabindex="-1" aria-labelledby="declineModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="declineModalLabel">Decline Contract Renewal</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <p>You are about to decline the contract renewal for <strong>John Smith (STU-0023)</strong>.</p>
                    <div class="mb-3">
                        <label for="declineReason" class="form-label">Reason for Declining</label>
                        <select class="form-select mb-3" id="declineReason">
                            <option>Poor performance</option>
                            <option>Attendance issues</option>
                            <option>Budget constraints</option>
                            <option>Position no longer available</option>
                            <option>Other (please specify)</option>
                        </select>
                    </div>
                    <div class="mb-3">
                        <label for="declineNotes" class="form-label">Additional Notes</label>
                        <textarea class="form-control note-textarea" id="declineNotes" placeholder="Provide details about the reason for declining..."></textarea>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                    <button type="button" class="btn btn-danger">Confirm Decline</button>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Retake Modal -->
    <div class="modal fade" id="retakeModal" tabindex="-1" aria-labelledby="retakeModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="retakeModalLabel">Request Retake/Revision</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <p>You are requesting <strong>John Smith (STU-0023)</strong> to revise their contract renewal application.</p>
                    <div class="mb-3">
                        <label for="retakeReason" class="form-label">Reason for Retake</label>                        <select class="form-select mb-3" id="retakeReason">                            <option>Missing information</option>
                            <option>Incomplete documentation</option>
                            <option>Additional clarification needed</option>
                            <option>Format errors</option>
                            <option>Update required information</option>
                            <option>Other (please specify)</option>
                        </select>
                    </div>
                    <div class="mb-3">
                        <label for="retakeNotes" class="form-label">Additional Instructions</label>
                        <textarea class="form-control note-textarea" id="retakeNotes" placeholder="Provide specific instructions for revision..."></textarea>
                    </div>
                    <div class="mb-3">
                        <label for="retakeNotes" class="form-label">Additional Notes</label>
                        <textarea class="form-control note-textarea" id="retakeNotes" placeholder="Provide details about the retake request..."></textarea>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                    <button type="button" class="btn btn-info">Send Retake Request</button>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Edit Modal -->
    <div class="modal fade" id="editModal" tabindex="-1" aria-labelledby="editModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="editModalLabel">Edit Contract Status</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <div class="mb-3">
                        <label for="editStatus" class="form-label">Status</label>
                        <select class="form-select" id="editStatus">
                            <option value="pending">Pending</option>
                            <option value="approved">Approved</option>
                            <option value="declined">Declined</option>
                            <option value="retake">Retake</option>
                        </select>
                    </div>
                    <div class="mb-3">
                        <label for="editNotes" class="form-label">Notes</label>
                        <textarea class="form-control note-textarea" id="editNotes" placeholder="Add any additional notes..."></textarea>
                    </div>
                    <div class="mb-3">
                        <label for="editDate" class="form-label">Last Modified</label>
                        <input type="text" class="form-control" id="editDate" readonly>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                    <button type="button" class="btn btn-primary" id="saveEdit">Save Changes</button>
                </div>
            </div>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Initialize all tooltips
            var tooltipTriggerList = [].slice.call(document.querySelectorAll('[data-bs-toggle="tooltip"]'));
            var tooltipList = tooltipTriggerList.map(function (tooltipTriggerEl) {
                return new bootstrap.Tooltip(tooltipTriggerEl);
            });

            // Filter functionality
            const filterButtons = document.querySelectorAll('.filter-btn');
            const approvalRows = document.querySelectorAll('.approval-row');

            filterButtons.forEach(button => {
                button.addEventListener('click', () => {
                    // Remove active class from all buttons
                    filterButtons.forEach(btn => btn.classList.remove('active'));
                    // Add active class to clicked button
                    button.classList.add('active');

                    const filter = button.getAttribute('data-filter');
                    
                    approvalRows.forEach(row => {
                        if (filter === 'all' || row.getAttribute('data-status') === filter) {
                            row.style.display = '';
                        } else {
                            row.style.display = 'none';
                        }
                    });
                });
            });

            // Search functionality
            const searchInput = document.querySelector('.search-input');
            searchInput.addEventListener('input', function(e) {
                const searchTerm = e.target.value.toLowerCase();
                
                approvalRows.forEach(row => {
                    const text = row.textContent.toLowerCase();
                    if (text.includes(searchTerm)) {
                        row.style.display = '';
                    } else {
                        row.style.display = 'none';
                    }
                });
            });

            // Handle status updates
            function updateStatus(id, newStatus, notes = '') {
                // Find the row with the matching ID
                const row = document.querySelector(`tr[data-id="${id}"]`);
                if (row) {
                    const statusBadge = row.querySelector('.status-badge');
                    statusBadge.className = `status-badge status-${newStatus.toLowerCase()}`;
                    statusBadge.textContent = newStatus.charAt(0).toUpperCase() + newStatus.slice(1);

                    // Update stats
                    updateDashboardStats();
                }
            }

            // Update dashboard stats
            function updateDashboardStats() {
                const stats = {
                    pending: document.querySelectorAll('tr[data-status="pending"]').length,
                    approved: document.querySelectorAll('tr[data-status="approved"]').length,
                    declined: document.querySelectorAll('tr[data-status="declined"]').length,
                    retake: document.querySelectorAll('tr[data-status="retake"]').length
                };

                // Update the stats in the dashboard
                document.querySelector('.stat-value:nth-child(1)').textContent = stats.pending;
                document.querySelector('.stat-value:nth-child(2)').textContent = stats.approved;
                document.querySelector('.stat-value:nth-child(3)').textContent = stats.declined;
                document.querySelector('.stat-value:nth-child(4)').textContent = stats.retake;
            }

            // Handle modal actions
            document.querySelectorAll('[data-bs-target="#approveModal"]').forEach(btn => {
                btn.addEventListener('click', function() {
                    const row = this.closest('tr');
                    const id = row.getAttribute('data-id');
                    document.getElementById('approveModal').setAttribute('data-id', id);
                });
            });

            // Approve action
            document.querySelector('#approveModal .btn-success').addEventListener('click', function() {
                const modal = document.getElementById('approveModal');
                const id = modal.getAttribute('data-id');
                const notes = document.getElementById('approveNotes').value;
                updateStatus(id, 'approved', notes);
                bootstrap.Modal.getInstance(modal).hide();
            });

            // Decline action
            document.querySelector('#declineModal .btn-danger').addEventListener('click', function() {
                const modal = document.getElementById('declineModal');
                const id = modal.getAttribute('data-id');
                const reason = document.getElementById('declineReason').value;
                const notes = document.getElementById('declineNotes').value;
                updateStatus(id, 'declined', `${reason}: ${notes}`);
                bootstrap.Modal.getInstance(modal).hide();
            });

            // Retake action
            document.querySelector('#retakeModal .btn-primary').addEventListener('click', function() {
                const modal = document.getElementById('retakeModal');
                const id = modal.getAttribute('data-id');
                const reason = document.getElementById('retakeReason').value;
                const notes = document.getElementById('retakeNotes').value;
                updateStatus(id, 'retake', `${reason}: ${notes}`);
                bootstrap.Modal.getInstance(modal).hide();
            });

            // Initialize dashboard stats
            updateDashboardStats();
        });
    </script>
</body>
</html>